<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"] - Blog</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- mor-beyaz-siyah tema -->
    <link href="~/css/site.css" rel="stylesheet" asp-append-version="true" />
</head>
<body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a asp-area="" asp-controller="Home" asp-action="Index" class="navbar-brand">Home</a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div id="mainNav" class="collapse navbar-collapse">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" asp-area="" asp-controller="Post" asp-action="Index">Yayınlanan Yazılar</a>
                    </li>

                    @* Admin/Author için hızlı erişim *@
                    @if (User.IsInRole("Admin") || User.IsInRole("Author"))
                    {
                        <li class="nav-item"><a class="nav-link" asp-area="Admin" asp-controller="Posts" asp-action="Index">Yazılar</a></li>
                        <li class="nav-item"><a class="nav-link" asp-area="Admin" asp-controller="Categories" asp-action="Index">Kategoriler</a></li>
                        <li class="nav-item"><a class="nav-link" asp-area="Admin" asp-controller="Tags" asp-action="Index">Taglar</a></li>
                    }
                </ul>

                <div class="ms-auto">
                    @if (User.Identity?.IsAuthenticated == true)
                    {
                        <form asp-area="" asp-controller="Account" asp-action="Logout" method="post" class="d-inline">
                            @Html.AntiForgeryToken()
                            <input type="hidden" name="returnUrl" value="@Context.Request.Path" />
                            <button type="submit" class="btn btn-outline-light">Çıkış Yap</button>
                        </form>
                    }
                    else
                    {
                        <a class="btn btn-outline-light me-2"
                           asp-area="" asp-controller="Account" asp-action="Login"
                           asp-route-returnUrl="@Context.Request.Path">Giriş Yap</a>

                        <!-- Sarı yerine mor için btn-primary -->
                        <a class="btn btn-primary"
                           asp-area="" asp-controller="Account" asp-action="Register">Kayıt Ol</a>
                    }
                </div>
            </div>
        </div>
    </nav>

    <partial name="_Alerts" />
    <main class="container py-5">
        @RenderBody()
    </main>

    <footer class="text-center text-muted py-4">
        <small>© @DateTime.Now.Year Home</small>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>
